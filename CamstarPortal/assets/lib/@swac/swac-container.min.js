/* Version 1.5.1, copyright (C) 2019, Siemens AG. All Rights Reserved. */

!function(){var n=function(T){var c,l,a,p,f,g,d,m;return T.Component=function(e,n,t,i,r){var g=this,d=null,h=e,o=n,l=i,a=""!==r&&null!=r?r:n.src,s=void 0!==l&&void 0!==l.addDpcValues?l.addDpcValues:T.Config.Container.Behaviors.AddDpcValues,b=arguments[5],v=null,u="hidden",c=!1,C=new T.Eventing.Publisher("onReady"),f="click dblclick mousedown mousemove mouseup",m=[],y={},p=new T.Authentication(e),w={},_={},O={},P={},D=T.Guid.generate(),S=function(e){var n=new T.Defer,t=function(){T.Container._internal.remove(h,o,e),c=!(o=null),v=_=P=O=w=null};return c?(n.reject(new T.Reason(13001)),n.promise):T.Communication._internal.beginCall(h,T.Config.TimeOuts.Remove,"remove",[e]).then(function(e){t()},function(e){throw t(),e})},R=function(e,n){return T.Communication._internal.beginCall(h,T.Config.TimeOuts.Proxy.Functions,"call",[e,n])},j=function(e){var n;for(n=m.length-1;0<=n;n--)m[n].name===e&&m.splice(n,1)},E=function(e){var n;for(n in m)if(m[n].name===e)return m[n];return null},I=function(e){var n={level:"",category:""},t=f.split(" ");return-1<T._internal.Utils.indexOf(t,e)&&(n.level="_nested",n.category="MouseEvents"),n};this.beginShow=function(n){var e,t=new T.Defer,i=n?"visible":"hidden";if(c)t.reject(new T.Reason(13001));else if("ui"!==l.flavor)t.reject(new T.Reason(13002));else{if(i!==u)return e=function(e){u=i,o.style.width=n?l.width:"0px",o.style.height=n?l.height:"0px",o.style.display=n?"block":"none"},T.Communication._internal.beginCall(h,T.Config.TimeOuts.Internal,"show",[n]).then(e,e);t.fulfill()}return t.promise},this.beginRemove=S,this.getDomain=function(){return p.getDomain()},this.beginPosition=function(e,n,t,i){var r=new T.Defer;return c?(r.reject(new T.Reason(13001)),r.promise):"ui"!==l.flavor?(r.reject(new T.Reason(13002)),r.promise):("hidden"!==u&&(o.style.left=e,o.style.top=n,o.style.width=t,o.style.height=i),T.Communication._internal.beginCall(h,T.Config.TimeOuts.Internal,"position",[e,n,t,i]))},this.beginCleanUpRequest=function(){return T.Communication._internal.beginCall(h,T.Config.TimeOuts.CleanUp,"cleanUp",[],!0)},this.getPosition=function(){return c?null:{left:o.style.left,top:o.style.top,width:o.style.width,height:o.style.height}},this.type=function(){return t},this.name=function(){return h},this.hasUI=function(){return"ui"===l.flavor},this.swacVersion="1.0.0",this.onReady=C.event,this.onMouseEvents={subscribe:function(e,n){var t,i,r,o=3===arguments.length&&arguments[2],l=null,a=null,s=[],u=!1;if(T._internal.Utils.checkVersion(g.swacVersion,"1.1.0")<=0)return!1;if("function"!=typeof e&&!o)return!1;for(r="function"!=typeof e?[]:[e],""===n||null==n?t=f.split(" "):T._internal.Utils.isArray(n)?t=n:"string"==typeof n&&(t=[n]),i=0;i<t.length;i++)l=E(t[i]),a=I(t[i]),null===l?""!==a.level&&(m.push({name:t[i],bubble:!1,inherited:o,callback:r.slice(0)}),"_nested"===a.level&&s.push(t[i]),u||(u=!0)):(-1===T._internal.Utils.indexOf(l.callback,e)&&l.callback.push(e),u||(u=!0),l=null);return 0<s.length&&T.Communication._internal.call(h,"enableComponentEvent",[s,a.level]),u},unsubscribe:function(e){var n,t,i,r,o=null,l=2===arguments.length?arguments[1]:[],a=[];if("function"==typeof e||0!==l.length){if("function"==typeof e)for(t in m)0<m[t].callback.length&&-1!==(i=T._internal.Utils.indexOf(m[t].callback,e))&&(m[t].callback.splice(i,1),0!==m[t].callback.length||m[t].insertFromBubble||m[t].inherited||(o=I(m[t].name),a.push(m[t].name)));else for(o={level:"_nested"},n=0;n<l.length;n++)null===(r=E(l[n]))||r.insertFromBubble||a.push(r.name);if(0<a.length){for(n=0;n<a.length;n++)j(a[n]);T.Communication._internal.call(h,"disableComponentEvent",[a,o.level])}}},bubble:function(e,n){var t,i,r=null,o=null,l=[],a=[];if("boolean"==typeof e){for(""===n||null==n?t=f.split(" "):T._internal.Utils.isArray(n)?t=n:"string"==typeof n&&(t=[n]),i=0;i<t.length;i++)r=E(t[i]),o=I(t[i]),null===r?""!==o.level&&e&&(m.push({name:t[i],bubble:e,inherited:!1,callback:[],insertFromBubble:!0}),"_nested"===o.level&&l.push(t[i])):(r.insertFromBubble&&0===r.callback.length?(j(t[i]),a.push(t[i])):(r.bubble=e,r.insertFromBubble=!0),r=null);0<l.length&&T.Communication._internal.call(h,"enableComponentEvent",[l,o.level]),0<a.length&&T.Communication._internal.call(h,"disableComponentEvent",[a,o.level])}}},this._internal={beginExpose:function(e,n,t,i,r){var o,l,a,s,u,c,f,m=new T.Defer,p=0;for(f in r&&(g.swacVersion=r),e)e.hasOwnProperty(f)&&(u="return function ("+e[f].join(", ")+') { var myargs = Array.prototype.slice.call(arguments, 0); var args = ["'+f+'", myargs ]; return fn.apply( ctx, args ); };',w[f]=new Function("ctx","fn",u)(g,R));for(p=0;p<n.length;p++)c=n[p],_[c]=new T.Eventing.Publisher(c),w[c]=_[c].event;return g.interfaces=v=new T.Interfaces(i,g),l=function(e){m.reject(e)},a=function(e){var n=T.Services.list(),t=0,i=[],r={};for(t=0;t<n.length;t++)r[n[t]]=T.Services.getInfo(n[t]),r[n[t]].provider||(T._internal.Utils.getFullName()?r[n[t]].provider=T._internal.Utils.getFullName():"function"!=typeof window.swacPostMessage&&window.parent===self?r[n[t]].provider=["<root>"]:r[n[t]].delegable=!1);if(0<=T._internal.Utils.checkVersion(g.swacVersion,"1.4.0")&&"object"==typeof T.Hub.instance)for(i=T.Hub.instance.services.list({delegable:!0}),t=0;t<i.length;t++)-1===T._internal.Utils.indexOf(n,i[t])&&(r[i[t]]=T.Hub.instance.services.getInfo(i[t]));o=new T.Defer,m.fulfill(o.promise),T.Communication._internal.beginCall(h,T.Config.TimeOuts.Internal,"ready",[n,r]).then(function(){o.fulfill(),b.notify({name:h},!0),C.notify({name:h},!0)},function(e){o.reject(e)})},s=T.DPC._internal.Flags.Proxy|T.DPC.Permissions.Write|T.DPC.Permissions.Read,d=new T.DPC.Node(function(e,n,t){var i=null;if("add"===n||"set"===n||"remove"===n)T.Communication._internal.dpcChanged(h,e,n,t);else{if("get"===n)return T.Communication._internal.beginDpcGet(h,e);if("beginset"===n)return T._internal.Utils.checkVersion(g.swacVersion,"1.1.0")<=0?(i=new T.Defer,T.Communication._internal.dpcChanged(h,e,"set",t),i.fulfill({modified:!1}),i.promise):T.Communication._internal.beginDpcSet(h,e,n,t).then(function(e){return"object"==typeof e&&"boolean"==typeof e.modified?e:{modified:!1}},function(e){throw e})}},D,s),y=d.access(D),T.Communication._internal.beginCall(h,T.Config.TimeOuts.Internal,"bind",[]).then(a,l),m.promise},close:function(e){S(e)},fire:function(e,n,t){"string"==typeof t?v._internal.fire(e,n,t):_[e].notify(n)},dpcChanged:function(e,n,t){var i,r=null;"remove"===n?y.remove(e):"add"===n?(-1!==e.toLowerCase().indexOf("private.")&&(t.flags=t.flags^T.DPC.Permissions.Write),"public"===e?void 0===d.open("public")&&((r=new T.DPC.Node(d,D,T.DPC.Permissions.Read|T.DPC.Permissions.Write|T.DPC._internal.Flags.Proxy,"public")).componentVersion=g.swacVersion,r.addDpcValues=s):y.add(e,t.flags),"private"===e&&(O=d.open("private").access(),g.status=O),"public"===e&&(P=d.open("public").access(),g.dpc=P)):"set"===n&&(-1!==e.toLowerCase().indexOf("private.")&&t.flags&T.DPC.Permissions.Write&&(t.flags=t.flags^T.DPC.Permissions.Write),y.set(e,s?t.value:null,t.type,t.flags),window.addEventListener||"private.isDirty"===e&&"boolean"==typeof t.value&&T.Container._internal.setComponentInternalStatus(h,t.value)),"set"===n&&-1!==e.toLowerCase().indexOf("private.")&&(i=function(){return function(e){"boolean"==typeof e&&T.Container._internal.setComponentInternalStatus(h,e)}},d.access().open(e).beginGet().then(i()))},beginHandshake:function(e,n){return p._internal.beginHandshake(e,null,n)},tlsMessage:function(e){p._internal.receiveMessage(e)},beginRequestInterface:function(n){var t=new T.Defer;return T.Communication._internal.beginCall(h,T.Config.TimeOuts.Internal,"beginRequestInterface",[n]).then(function(e){e?(v._internal.exposeInterface(e.name,e.api,e.events),v.beginGet(n).then(function(e){t.fulfill(e)},function(e){t.reject(e)})):t.reject(new T.Reason(14001))},function(e){t.reject(e)}),t.promise},beginRequestService:function(e){var n=this.o;return T.Services._internal.beginRequestService(e,n)},callService:function(e,n,t){var i=[];return this.o&&(i=this.o),T.Services._internal.callMethod(i,t,e,n)},setCurrentUrl:function(e){a=e},getCurrentUrl:function(){return a},iframe:o,lastIsDirtyValue:!1,manageEvent:function(e){var n,t=null,i=null;if(null!==(i=E(e.type))){if((t=function(e){var n=null,t=null;if(""!==(t=I(e.type)).level)switch(t.category){case"MouseEvents":(n=document.createEvent("MouseEvents")).initMouseEvent(e.type,e.bubbles,e.cancelable,null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,o)}return t=null,n}(e)).SWACComponent=g,!0===i.bubble&&o.dispatchEvent(t),0<i.callback.length)for(n=0;n<i.callback.length;n++)i.callback[n]&&i.callback[n](t);i.inherited&&!i.insertFromBubble&&T.Communication._internal.call(null,"manageEvent",[e]),t=i=null}},getRegisteredEvent:E,removeComponentServiceAndBubble:function(){var e=this.o;T.Services._internal.removeServices(JSON.stringify(e)),T._internal.Utils.getFullName()&&T.Communication._internal.call(null,"removeComponentServiceAndBubble",null,e)}},this.proxy=w,this.interfaces=null},T.Container=function(){var t=window.navigator.language,C=!1,n=null,p={},y={},w={},a=new T.DPC.Node(null,"Owner",T.DPC.Permissions.Read,"status",!1),r=new T.Eventing.Publisher("onRemoved");a.set("Owner","isDirty",!1,"boolean");var _=function(e,n,t){var i=T._internal.Utils.getFullName();y[e]&&(n&&(n.src="about:blank",n.parentNode&&(C=!0,n.parentNode.removeChild(n)),n=null),t=t||"",i?(i.push(e),y[e]._internal.removeComponentServiceAndBubble.apply({o:i})):T.Services._internal.removeServices('["<root>","'+e+'"]'),delete y[e],r.notify({name:e,reason:t}))},o=new T.Eventing.Publisher("onFailure"),O=function(e,n,t,i){o.notify({name:e,details:{phase:n,reason:t}},i)},l=function(e,n){var t=n?y:w,i=null,r=null;for(i in t)if(t.hasOwnProperty(i))if(r=t[i],t===w){if(r.iframe.contentWindow===e||r.iframe===e)return r}else if(r._internal.iframe.contentWindow===e||r._internal.iframe===e)return r;if(!n)return l(e,!0)},i=new T.Eventing.Publisher("onCreated"),s=new T.Eventing.Publisher("onReady"),u=function(e,n,t,i,r){var o,l=!0,a=0,s=0;if(o=function(){return function(e){11005===e.reasonCode&&t.closeOnCleanUpTimeOut||(t.beginCloseDeferer.reject(e),T.Config.TimeOuts.Enabled&&window.clearTimeout(t.beginCloseTimer),delete p[t.guid])}},!0===i._internal.lastIsDirtyValue&&!1===r&&!0===t.closingBroadcast&&i.beginCleanUpRequest().then(null,o()),!1===i._internal.lastIsDirtyValue){for(s=0;s<t.closingComponents.length;s++)null!==t.closingComponents[s].component&&(t.closingComponents[s].component._internal.lastIsDirtyValue?t.closingBroadcast&&(l=!1):a++,a===t.closingComponents.length&&(t.loopInterrupted=!1));if(t.closingBroadcast&&l||!t.closingBroadcast&&!t.loopInterrupted){for(s=0;s<t.closingComponents.length;s++)null!==t.closingComponents[s].component&&t.closingComponents[s].component.beginRemove();T.Config.TimeOuts.Enabled&&window.clearTimeout(t.beginCloseTimer)}}},g=function(e){var n,t,i,r,o=[],l=0,a=[];if(e){if(e.name)if("string"==typeof e.name){if(!e.type&&!e.dirty)return y[e.name];o.push(y[e.name])}else if("[object Array]"===Object.prototype.toString.call(e.name))for(t in e.name)if(e.name.hasOwnProperty(t))for(n in y)y.hasOwnProperty(n)&&y[n].name()===e.name[t]&&o.push(y[n]);if(e.type)if(e.name)for(l=o.length-1;0<=l;l--)o[l]&&o[l].type()!==e.type&&o.splice(l,1);else for(n in y)y.hasOwnProperty(n)&&y[n].type()===e.type&&o.push(y[n]);if(e.dirty)if(e.name||e.type)for(l=o.length-1;0<=l;l--)o[l]&&o[l]._internal.lastIsDirtyValue!==e.dirty&&o.splice(l,1);else for(n in y)y.hasOwnProperty(n)&&y[n]._internal.lastIsDirtyValue===e.dirty&&o.push(y[n]);if(e.attributes)for(n in y)if(y.hasOwnProperty(n)&&y[n].attributes){for(i in r=!0,e.attributes)if(e.attributes.hasOwnProperty(i)&&(!y[n].attributes.hasOwnProperty(i)||y[n].attributes[i]!==e.attributes[i])){r=!1;break}r&&o.push(y[n])}return o}for(i in y)y.hasOwnProperty(i)&&a.push(y[i]);return a},c=function(e,n){var t;for(t=0;t<n.closingComponents.length;t++)if(n.closingComponents[t].name===e)return n.closingComponents.splice(t,1),!0;return!1};return r.event.subscribe(function(e){var n,t;for(n in p)p.hasOwnProperty(n)&&(t=p[n],-1<T._internal.Utils.indexOf(t.closingComponentsNames,e.data.name,0)&&c(e.data.name,t)&&0===t.closingComponents.length&&(t.beginCloseDeferer.fulfill(),delete p[t.guid]))}),i.event.subscribe(function(){window.MutationObserver&&null===n&&(n=new MutationObserver(function(e){0<e[0].removedNodes.length&&"IFRAME"===e[0].removedNodes[0].tagName&&"boolean"==typeof e[0].removedNodes[0].SWACLoaded&&(C?C=!1:(O(e[0].removedNodes[0].name,"integrityCheck","Component integrity is compromised",!1),_(e[0].removedNodes[0].name,null,new T.Reason(15005))))})).observe(document.body,{childList:!0,subtree:!0})}),r.event.subscribe(function(){var e=g();e&&0===e.length&&window.MutationObserver&&null!==n&&(n.disconnect(),n=null)}),{beginCreate:function(n){var e,t,i,r,o,l,a,s,u,c,f=new T.Defer,m=0,p=0,g=0,d=function(){m===g?f.fulfill():m+p===g&&f.reject(new T.Reason(13006))},h=function(){m++,d()},b=function(){p++,d()},v=0;if(T._internal.Utils.isArray(n)){for(g=n.length,v=0;v<g;v++)T.Container.beginCreate(n[v]).then(h,b);return f.promise}if(null===n||"object"!=typeof n)return f.reject(new T.Reason(13008)),f.promise;if(w[n.name]||y[n.name]){if(T.Container._internal.checkIframe(n.name))return O(n.name,"creation","Component already present in registry",!0),f.reject(new T.Reason(13003)),f.promise;O(n.name,"integrityCheck","Component integrity is compromised",!1),_(n.name,null,new T.Reason(15005))}return n.source&&n.name?((c=document.createElement("iframe")).src=n.source,(c.src===window.location.href?c=null:!(c=null))?(n.settings||(n.settings={}),n.settings.flavor||(n.settings.flavor="ui"),w[n.name]={name:n.name,type:n.type,state:"pending",settings:n.settings,promise:f,lastUrl:""},(e=n,o=new T.Defer,l=e.parent?e.parent:document.body,a=e.source,s=e.settings,u=e.name,(r=document.createElement("iframe")).src=a,r.frameBorder=0,r.name=u,r.style.position="absolute",r.SWACLoaded=!1,("ui"===s.flavor||s.left&&s.top)&&(window.addEventListener||s.left&&s.top)?(r.style.left=s.left,r.style.top=s.top):(s.left="0px",s.top="0px"),r.style.width="0px",r.style.height="0px",r.style.display="none",t=function(e){var n=e.target?e.target:e.srcElement;n?(w[n.name]||y[n.name])&&(!1===n.SWACLoaded?(n.SWACLoaded=!0,o.fulfill(n)):y[n.name]&&n.setAttribute("redirect-detected","true")):o.reject(new T.Reason(13005))},(w[e.name].iframe=r).addEventListener?r.addEventListener("load",t):r.attachEvent("onload",t),i=function(){r.src="about:blank";try{C=!0,l.removeChild(r),r=null}catch(e){}o.reject(new T.Reason(11014))},r.addEventListener?r.addEventListener("error",i):r.attachEvent("onerror",i),l.appendChild(r),r=null,o.promise).then(function(e){w[n.name]&&T.Config.TimeOuts.Enabled&&(w[n.name].timeout=window.setTimeout(function(){w[n.name]&&"pending"===w[n.name].state&&(e.src="about:blank",e.parentNode&&(C=!0,e.parentNode.removeChild(e)),e=null,O(n.name,"creation","Timeout in beginCreateIframe",!0),w[n.name].promise.reject(new T.Reason(13007)),delete w[n.name])},T.Config.TimeOuts.Create))},function(e){f.reject(e)})):f.reject(new T.Reason(13008))):f.reject(new T.Reason(13008)),f.promise},beginClose:function(e,n,t,i){var r,o=null,l=null,a=!0,s=null,u=null,c=0,f=T.Guid.generate(),m={guid:f};if((p[f]=m).beginCloseDeferer=new T.Defer,t=t||T.Config.TimeOuts.Close,n=null==n||n,i=null!=i&&""!==i?i:null!==T.Config.Container.Behaviors.CloseOnCleanUpTimeOut&&void 0!==T.Config.Container.Behaviors.CloseOnCleanUpTimeOut&&""!==T.Config.Container.Behaviors.CloseOnCleanUpTimeOut?T.Config.Container.Behaviors.CloseOnCleanUpTimeOut:null===T.Config.Container.Behaviors.CloseTimeoutConfirm||void 0===T.Config.Container.Behaviors.CloseTimeoutConfirm||""===T.Config.Container.Behaviors.CloseTimeoutConfirm||T.Config.Container.Behaviors.CloseTimeoutConfirm,m.closeOnCleanUpTimeOut=i,m.closingBroadcast=n,m.loopInterrupted=!1,null==e)o=g();else{if(T._internal.Utils.isArray(e))for(o=[],c=0;c<e.length;c++)(l=g({name:e[c]}))&&o.push(l);else(o=g({name:e}))&&(o=[o]);if(null==o||0===o.length)return m.beginCloseDeferer.reject(new T.Reason(13015)),delete p[f],m.beginCloseDeferer.promise}for(m.closingComponents=[],m.closingComponentsNames=[],c=0;c<o.length;c++)null!==o[c]&&(m.closingComponentsNames.push(o[c].name()),m.closingComponents.push({component:o[c],name:o[c].name()}));for(r=function(){for(c=0;c<o.length;c++)null!==o[c]&&o[c].beginRemove()},T.Config.TimeOuts.Enabled&&(m.beginCloseTimer=window.setTimeout(function(){i?r():(m.beginCloseDeferer.reject(new T.Reason(13011)),delete p[f])},t)),s=function(e){if(11005===e.reasonCode&&i){if(n)return;o[++c]?o[c]._internal.lastIsDirtyValue&&o[c].beginCleanUpRequest().then(u,s):m.loopInterrupted=!1}else m.beginCloseDeferer.reject(e),T.Config.TimeOuts.Enabled&&window.clearTimeout(m.beginCloseTimer),delete p[f]},u=function(e){n||(o[++c]?o[c]._internal.lastIsDirtyValue&&o[c].beginCleanUpRequest().then(u,s):m.loopInterrupted=!1)},c=0;c<o.length;c++)if(o[c]&&o[c]._internal.lastIsDirtyValue&&(n&&(a=!1),o[c].beginCleanUpRequest().then(u,s),!n)){m.loopInterrupted=!0;break}return(n&&a||!n&&!m.loopInterrupted)&&(r(),T.Config.TimeOuts.Enabled&&window.clearTimeout(m.beginCloseTimer)),m.beginCloseDeferer.promise},get:g,getLanguage:function(){return t},setLanguage:function(n){t=n;var e=g();e&&0<e.length&&e.forEach(function(e){e&&e.status&&e.status.open("language")&&T.Communication._internal.call(e.name(),"setPrivateDPC",["language",n])})},status:a.access(),onCreated:i.event,onReady:s.event,onRemoved:r.event,onFailure:o.event,_internal:{accept:function(e){var t=l(e);return!(!t||!t.promise||(T.Config.TimeOuts.Enabled&&window.clearTimeout(t.timeout),t.state="hidden",y[t.name]=new T.Component(t.name,t.iframe,t.type,t.settings,t.lastUrl,s),y[t.name]._internal.lastIsDirtyValue=!1,t.attributes&&(y[t.name].attributes=t.attributes),t.authentication&&y[t.name]._internal.beginHandshake(T.Config.Container.Authentication.TlsHandler,T.Config.TimeOuts.Authentication.Handshake).then(function(e){},function(e){var n=y[t.name];n&&n.beginRemove({reason:"auth-failed"})}),delete w[t.name],t.promise.fulfill(),i.notify({name:t.name},!0),0))},discard:function(e){var n=l(e);n&&(T.Config.TimeOuts.Enabled&&window.clearTimeout(n.timeout),n.state="removing",n.promise.reject(new T.Reason(13010)),n.iframe&&(n.iframe.src="about:blank",n.iframe.parentNode&&(C=!0,n.iframe.parentNode.removeChild(n.iframe)),n.iframe=null),O(n.name,"creation","Component discarded by communication protocol",!1),delete w[n.name])},remove:_,identify:l,setComponentInternalStatus:function(e,n){var t,i,r,o,l=g({name:e});if(l){if((t=l._internal.lastIsDirtyValue)===(l._internal.lastIsDirtyValue=n))return;for(i in 0<g({dirty:!(o=!1)}).length&&(o=!0),a.set("Owner","isDirty",o,"boolean"),p)p.hasOwnProperty(i)&&(r=p[i],-1<T._internal.Utils.indexOf(r.closingComponentsNames,e,0)&&u(0,0,r,l,t))}},getComponentInternalStatus:function(e){var n=g({name:e});if(n)return n._internal.lastIsDirtyValue;throw new T.Exception(1001)},fireOnFailure:O,checkIframe:function(e){var n=document.querySelectorAll('iframe[name="'+e+'"]'),t=null,i=null;if(0<n.length&&(i=T.Container.get({name:e}))instanceof T.Component)for(t in n)if(n.hasOwnProperty(t)&&i._internal.iframe===n[t])return!0;return!1}}}}(),T.Container.version="1.5.1",T.Interfaces=function(e,n){var u={},c={},t=e,i=n,r=[],o=function(e){return 0<=T._internal.Utils.indexOf(t,e)},l=function(e,n,t){var i;for(i=r.length-1;0<=i;i--)r[i].name===e&&(t?r[i].defer.reject(n):r[i].defer.fulfill(n),r.splice(i,1))},f=function(e,n,t){return T.Communication._internal.beginCall(i.name(),T.Config.TimeOuts.Proxy.Functions,"call",[e,n,t])};this.list=function(){return t},this.beginGet=function(n){var e=new T.Defer;return u[n]?e.fulfill(u[n]):o(n)?(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return!0;return!1}(n)||i._internal.beginRequestInterface(n).then(function(e){l(n,e,!1),T.Communication._internal.call(i.name(),"interfaceReady",[n])},function(e){l(n,e,!0)}),r.push({name:n,defer:e})):e.reject(new T.Reason(14001)),e.promise},this.has=o,this._internal={exposeInterface:function(e,n,t){var i,r,o,l,a={},s=0;if(!u[e]){for(i in n)n.hasOwnProperty(i)&&(r="return function ("+n[i].join(", ")+') { var myargs = Array.prototype.slice.call(arguments, 0); var args = ["'+i+'", myargs, "'+e+'" ]; return fn.apply( ctx, args ); };',a[i]=new Function("ctx","fn",r)(this,f));for(s=0;s<t.length;s++)o=t[s],l=new T.Eventing.Publisher(o),c[e]=c[e]||{},c[e][o]=l,a[o]=l.event;u[e]=a}},fire:function(e,n,t){c[t]&&c[t][e]&&c[t][e].notify(n)}}},T.Services=(c={},l={},a={},p=[],f=new T.Eventing.Publisher("onServiceCreated"),g=new T.Eventing.Publisher("_onServiceRemoved"),d={},m=function(n,t,i){return function(e){T.Communication._internal.fire(n,t,e,i)}},{list:function(e){var n="",t=[],i="",r=!0;for(i in c)if(c.hasOwnProperty(i))if("object"==typeof e){for(n in r=!0,e)if(e.hasOwnProperty(n)){if(void 0===l[i][n]){r=!1;break}r=r&&l[i][n]===e[n]}r&&t.push(i)}else t.push(i);return t},register:function(e,n,t,i){var r="",o=null;if(!e||!e.match("^[a-zA-Z0-9_.]*$"))return!1;if(c[e])return!1;if(c[e]=n,l[e]={},t&&"object"==typeof t)for(r in t)t.hasOwnProperty(r)&&(l[e][r]=t[r]);return l[e].singleton=!(n instanceof Function),"boolean"!=typeof l[e].delegable&&(l[e].delegable=!0),i&&(i instanceof Function?(o=i,a[e]=new o):a[e]=i),!0},getInfo:function(e){return l.hasOwnProperty(e)?l[e]:{}},getLocal:function(e){return a.hasOwnProperty(e)?a[e]:null},onServiceCreated:f.event,onServiceRemoved:g.event,_internal:{beginRequestService:function(l,e){var n,t,i=T._internal.Utils.getOwnPropertyNames(c),a=e,r=new T.Defer,o=new T.Defer,s=T._internal.Utils.getFullName(),u=e;return T._internal.Utils.isArray(a)&&(a=JSON.stringify(a)),t=o.promise.then(function(e){var n,t,i={},r=[],o=T._internal.Utils.getFullName()||["<root>"];if("object"==typeof e&&"string"==typeof e.name)return e;for(n in e)e.hasOwnProperty(n)&&("function"==typeof e[n]?i[n]=T._internal.Utils.estractParameters(e[n]):"object"==typeof e[n]&&e[n].subscribe&&1===e[n].subscribe.length&&(t=m(a,n,l),e[n].subscribe(t),p.push({component:a,property:n,handler:t,event:e[n]}),r.push(n)));return{name:l,api:i,events:r,provider:o}},function(e){throw e}),0<=T._internal.Utils.indexOf(i,l)?(!((n=c[l])instanceof Function)||(d[a]=d[a]||{},d[a][l]?n=d[a][l]:(n=new c[l](a),d[a][l]=n,null===s||s.length+1===u.length?(null===s&&(s=["<root>"]),u=u.toString().substring(s.toString().length+1,u.toString().length),f.notify({component:u,service:l,instance:n})):(u=JSON.stringify(u),f.notify({component:u,service:l,instance:n,delegated:!0})))),t.then(function(e){r.fulfill(e)},function(e){r.reject(e)}),o.fulfill(n)):"object"==typeof T.Hub.instance?T.Hub.instance.services._internal.beginGetInternal(l,e).then(function(e){o.fulfill(e),t.then(function(e){r.fulfill(e)},function(e){r.reject(e)})},function(e){r.reject(e)}):r.reject(new T.Reason(12001)),r.promise},removeServices:function(e){var n,t,i,r=Object.getOwnPropertyNames(d),o=[e],l=0,a=JSON.parse(e),s=[],u=!0,c=0,f=null,m=T._internal.Utils.getFullName();for(l=0;l<r.length;l++)if(r[l].length>e.length&&(s=JSON.parse(r[l])).length>a.length){for(u=!0,c=0;c<a.length&&u;c++)a[c]!==s[c]&&(u=!1);u&&o.push(r[l])}for(c=0;c<o.length;c++){for(t=o[c],f=d[t],l=p.length-1;0<=l;l--)p[l].component===t&&(p[l].event.unsubscribe&&p[l].event.unsubscribe(p[l].handler),p.splice(l,1));if(f)for(n=T._internal.Utils.getOwnPropertyNames(f),i=JSON.parse(t),l=0;l<n.length;l++)null===m||m.length+1===i.length?(null===m&&(m=["<root>"]),i=i.toString().substring(m.toString().length+1,i.toString().length),g.notify({component:i,service:n[l]})):(i=JSON.stringify(i),g.notify({component:i,service:n[l],delegated:!0})),delete d[t][n[l]]}},callMethod:function(e,n,t,i){var r=null,o=e;return T._internal.Utils.isArray(o)&&(o=JSON.stringify(e)),d[o]&&d[o][n]?r=d[o][n][t].apply(n,i):c[n]&&(r=c[n][t].apply(n,i)),r}}}),T};try{if("undefined"!=typeof module&&void 0!==module.exports){var e=require("@swac/base");"object"!=typeof e.prototype.Container&&n(e.prototype),module.exports=e,module.exports.default=module.exports}else if("undefined"!=typeof SystemJS&&SystemJS.map.hasOwnProperty("@swac/base"))define("@swac/container",["@swac/base"],function(e){return"object"!=typeof e.prototype.Container&&n(e.prototype),e});else{if("function"!=typeof define||void 0===define.amd||"undefined"==typeof requirejs||void 0===requirejs.s.contexts._.config.paths["@swac/base"])throw new Error("SWAC on window");define("@swac/container",["@swac/base"],function(e){return"object"!=typeof e.prototype.Container&&n(e.prototype),e})}}catch(e){"object"!=typeof window.SWAC.constructor.prototype.Container&&n(window.SWAC.constructor.prototype)}}();
//# sourceMappingURL=swac-container.min.map