/* Version 1.5.1, Boot version 1.5.1, copyright (C) 2019, Siemens AG. All Rights Reserved. */

!function(){var w,m,y,c,u,f,g,v,h,b,S,C,x,E,d,A;try{void 0===window.SWACBoot&&(window.SWACBoot=(w=null,y=!(m="pending"),c=-1,u=window.parent,g=f=null,h=[],b={},S=function(){window.clearTimeout(c),window.removeEventListener?window.removeEventListener("message",f):window.detachEvent("onmessage",f)},C=function(e,n,t){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",e),(n||t)&&(o.addEventListener?(n&&o.addEventListener("load",n),t&&o.addEventListener("error",function(){t("Failed to load "+e+" library")})):n&&(o.onreadystatechange=function(){"loaded"===this.readyState||"complete"===this.readyState?n():t&&t()})),document.getElementsByTagName("head")?document.getElementsByTagName("head")[0].appendChild(o):document.getElementsByTagName("body")[0].appendChild(o)},x=function(e){return JSON.stringify({t:"boot",c:e})},E=function(){return"object"==typeof SWAC&&"object"==typeof SWAC.Communication},d=function(n,t,e,o,i){e=e||"*",i=i||1e3,t=t||function(e){},o=o||"no";var s,a,r,d=[];if("done"!==m)if(y)window.setTimeout(function(){t({message:"Boot phase in progress"})},0);else if(y=!0,s=function(){if(u===self){if("object"==typeof swacNative&&"function"==typeof swacNative.postMessage)return swacNative.postMessage;if(window.external&&"function"==typeof window.external.postMessage)return window.external.postMessage}return null}(),u===self&&"function"!=typeof s&&"function"!=typeof window.swacPostMessage)m="failed",v.details={path:["<root>"]},window.setTimeout(function(){t({message:"Component is not embedded into an iframe"})},0);else{if("function"!=typeof window.swacPostMessage&&(window.swacPostMessage="function"==typeof s?s:function(e,n,t){return u.postMessage(e,n)}),f=function(e){!function(e,n,t){var o,i,s,a,r,d,c={},u=null,f=null,l=null,p=null;if(("waiting"===m||"ok"===m)&&"string"==typeof e.data&&0<e.data.length){try{if(!((c=JSON.parse(e.data))&&c.t&&c.c))throw new Error("Incompatible message received");if("boot"!==c.t)throw new Error("Unknown message received: "+c.t)}catch(e){return}if(i=function(e){m="failed",S(),t({message:e}),swacPostMessage(x({message:"failed"}),"*")},"boot"===c.t&&"pong"===c.c.message){if(s=function(){w.isContainer=!1,m="ok",(g=c.c).containerVersion=g.containerVersion||"1.0.0",swacPostMessage(x({message:"ok"}),"*")},r=function(){var e,n=h.length,t={};if(void 0!==w.Hub.prototype.Extensions){if(void 0!==w.Hub.prototype.Extensions&&0<Object.keys(w.Hub.prototype.Extensions).length&&(t=w.Hub.prototype.Extensions),null!==f)for(var o in t)t.hasOwnProperty(o)&&void 0!==b[o]&&(t[b[o]]=t[o],delete t[o],delete b[o]);0===n||w._internal.Utils.checkVersion(l,"1.4.1")<0?s():(m="upgrading",e=h.pop(),"undefined"==typeof defineExtension?C(e,function(){"undefined"!=typeof defineExtension&&(defineExtension=defineExtension.bind({SWAC:w})),r()},i):"$$unknownExtension$$"===e?r():(f=Object.keys(t).length,C(e,r,r)))}else s()},c.c.extensions)for(d in c.c.extensions)c.c.extensions.hasOwnProperty(d)&&h.unshift(c.c.extensions[d]);l=c.c.containerVersion||"1.0.0",p=void 0!==A?A:null,void 0!==window.SWAC?E()?((w=window.SWAC).BootInstance=p,r()):i("SWAC is a reserved variable name"):"undefined"!=typeof module&&void 0!==module.exports&&"function"==typeof(w=require("@swac/base"))?((w=w.prototype).BootInstance=p,r()):"function"==typeof define&&void 0!==define.amd&&"undefined"!=typeof requirejs&&void 0!==requirejs.s.contexts._.config.paths["@swac/base"]?require(["@swac/base"],function(e){(w=e.prototype).BootInstance=p,r()}):"undefined"!=typeof SystemJS&&SystemJS.map.hasOwnProperty("@swac/base")?System.import("@swac/base").then(function(e){(w=e.prototype).BootInstance=p,r()}):(u=/^\s+|\s+$/g,void 0===c.c.url||null===c.c.url||""===c.c.url.replace(u,"")?i("Failed to load SWAC.Config.Container.URLs library"):(o=function(){"undefined"!=typeof SWAC||void 0!==c.c.namespace&&void 0!==window[c.c.namespace]?E()?((w=SWAC).BootInstance=p,r()):i("SWAC is a reserved variable name"):"undefined"!=typeof SystemJS?System.import("@swac/base").then(function(e){(w=e.prototype).BootInstance=p,r()},function(){i("Failed to load SWAC.Config.Container.URLs library")}):"function"==typeof define&&void 0!==define.amd&&"undefined"!=typeof require&&require(["@swac/base"],function(e){(w=e.prototype).BootInstance=p,r()},function(){i("Failed to load SWAC.Config.Container.URLs library")})},m="upgrading",C(c.c.url,o,i)),u=null)}else if("boot"===c.t&&"ok2"===c.c.message){for(a in y=!(m="done"),S(),g)g.hasOwnProperty(a)&&(v[a]=g[a]);for(a in g.message="SWAC successfully loaded",g.auth=g.authentication,g.SWAC="object"==typeof w?w:new w,delete g.authentication,delete g.url,delete g.extensions,delete g.namespace,c.c.details||(v.details={path:["<root>"]}),c.c)"message"!==a&&c.c.hasOwnProperty(a)&&(v.hasOwnProperty(a)||(v[a]=c.c[a]));delete g._internal,w.Hub.prototype.containerVersion=g.containerVersion,n(g)}else"boot"===c.t&&"peng"===c.c.message&&(S(),t({message:c.c.reason}))}}(e,n,t)},m="waiting",window.addEventListener?window.addEventListener("message",f,!1):window.attachEvent("onmessage",f),c=window.setTimeout(function(){"done"!==m&&(m="timedout",v.details={path:["<root>"]},S(),t({message:"Bootload sequence timed out"}))},i),null!==arguments[6]&&void 0!==arguments[6])for(r=0;r<arguments[6].length;r++)"object"==typeof arguments[6][r]?(d.push(arguments[6][r].extension),b[arguments[6][r].extension]=arguments[6][r].as):d.push(arguments[6][r]);a=x({message:"ping",version:e,authentication:o,attributes:arguments[5],extensions:d}),swacPostMessage(a,"*")}else window.setTimeout(function(){t({message:"Boot phase already done"})},0)},(A={start:function(e,n,t,o,i,s){var a=s,r=i;"number"==typeof i&&(a=i,r=null),d(e,n,t,o,a,null,r)},_internal:{containerInfo:v={}}}).version="1.5.1",A)),"undefined"!=typeof module&&void 0!==module.exports?(module.exports=window.SWACBoot,module.exports.default=module.exports):"function"==typeof define&&void 0!==define.amd&&"undefined"!=typeof requirejs&&void 0!==requirejs.s.contexts._.config&&void 0!==requirejs.s.contexts._.config.paths["@swac/boot"]?define(function(){return window.SWACBoot}):"undefined"!=typeof SystemJS&&SystemJS.map.hasOwnProperty("@swac/boot")&&define(function(){return window.SWACBoot})}catch(e){}}();
//# sourceMappingURL=swac-boot.min.map